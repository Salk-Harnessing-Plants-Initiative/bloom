CREATE TABLE cyl_experiments (
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL,
    description TEXT,
    species_id BIGINT REFERENCES species(id),
    created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

ALTER TABLE cyl_experiments ENABLE ROW LEVEL SECURITY;

DROP POLICY IF EXISTS "Authenticated users can insert cyl_experiments" ON cyl_experiments;
CREATE POLICY "Authenticated users can insert cyl_experiments"
ON cyl_experiments AS permissive
FOR INSERT TO authenticated
WITH CHECK (true);

DROP POLICY IF EXISTS "Authenticated users can select cyl_experiments" ON cyl_experiments;
CREATE POLICY "Authenticated users can select cyl_experiments"
ON cyl_experiments AS permissive
FOR SELECT TO authenticated
USING (true);

DROP POLICY IF EXISTS "Authenticated users can update cyl_experiments" ON cyl_experiments;
CREATE POLICY "Authenticated users can update cyl_experiments"
ON cyl_experiments AS permissive
FOR UPDATE TO authenticated
USING (true);

DROP POLICY IF EXISTS "Authenticated users can delete cyl_experiments" ON cyl_experiments;
CREATE POLICY "Authenticated users can delete cyl_experiments"
ON cyl_experiments AS permissive
FOR DELETE TO authenticated
USING (true);