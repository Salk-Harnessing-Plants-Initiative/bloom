CREATE TABLE cyl_datasets (
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    name TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
);

ALTER TABLE cyl_datasets ENABLE ROW LEVEL SECURITY;

DROP POLICY IF EXISTS "Authenticated users can select cyl_datasets" ON cyl_datasets;

CREATE POLICY "Authenticated users can select cyl_datasets"
ON cyl_datasets AS permissive
FOR SELECT TO authenticated
USING (true);

DROP POLICY IF EXISTS "Authenticated users can insert cyl_datasets" ON cyl_datasets;

CREATE POLICY "Authenticated users can insert cyl_datasets"
ON cyl_datasets AS permissive
FOR INSERT TO authenticated
WITH CHECK (true);
